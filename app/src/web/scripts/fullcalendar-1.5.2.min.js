(function(an,t){var H={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"};var N={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var au=an.fullCalendar={version:"1.5.2"};var Z=au.views={};an.fn.fullCalendar=function(aG){if(typeof aG=="string"){var aF=Array.prototype.slice.call(arguments,1);var aH;this.each(function(){var aJ=an.data(this,"fullCalendar");if(aJ&&an.isFunction(aJ[aG])){var aI=aJ[aG].apply(aJ,aF);if(aH===t){aH=aI;}if(aG=="destroy"){an.removeData(this,"fullCalendar");}}});if(aH!==t){return aH;}return this;}var aE=aG.eventSources||[];delete aG.eventSources;if(aG.events){aE.push(aG.events);delete aG.events;}aG=an.extend(true,{},H,(aG.isRTL||aG.isRTL===t&&H.isRTL)?N:{},aG);this.each(function(aK,aI){var aJ=an(aI);var aL=new q(aJ,aG,aE);aJ.data("fullCalendar",aL);aL.render();});return this;};function ae(aE){an.extend(true,H,aE);}function q(aW,a3,a6){var bl=this;bl.options=a3;bl.render=bc;bl.destroy=bn;bl.refetchEvents=aQ;bl.reportEvents=aU;bl.reportEventChange=bp;bl.rerenderEvents=aI;bl.changeView=aN;bl.select=bm;bl.unselect=aP;bl.prev=a8;bl.next=aH;bl.prevYear=bo;bl.nextYear=aF;bl.today=aX;bl.gotoDate=bb;bl.incrementDate=a0;bl.formatDate=function(bw,bv){return x(bw,bv,a3);};bl.formatDates=function(bx,bw,bv){return h(bx,bw,bv,a3);};bl.getDate=a1;bl.getView=a7;bl.option=bi;bl.trigger=ba;p.call(bl,a3,a6);var aE=bl.isFetchNeeded;var bs=bl.fetchEvents;var bj=aW[0];var aJ;var bd;var aS;var bu;var aR;var bt={};var a9;var aL;var aO;var be=0;var bk=0;var bq=new Date();var a5=[];var aK;v(bq,a3.year,a3.month,a3.date);function bc(bv){if(!aS){a4();}else{bf();br();aG();a2(bv);}}function a4(){bu=a3.theme?"ui":"fc";aW.addClass("fc");if(a3.isRTL){aW.addClass("fc-rtl");}if(a3.theme){aW.addClass("ui-widget");}aS=an("<div class='fc-content' style='position:relative'/>").prependTo(aW);aJ=new O(bl,a3);bd=aJ.render();if(bd){aW.prepend(bd);}aN(a3.defaultView);an(window).resize(aT);if(!aV()){aM();}}function aM(){setTimeout(function(){if(!aR.start&&aV()){a2();}},0);}function bn(){an(window).unbind("resize",aT);aJ.destroy();aS.remove();aW.removeClass("fc fc-rtl ui-widget");}function bg(){return bj.offsetWidth!==0;}function aV(){return an("body")[0].offsetWidth!==0;}function aN(bx){if(!aR||bx!=aR.name){bk++;aP();var bw=aR;var bv;if(bw){(bw.beforeHide||al)();E(aS,aS.height());bw.element.hide();}else{E(aS,1);}aS.css("overflow","hidden");aR=bt[bx];if(aR){aR.element.show();}else{aR=bt[bx]=new Z[bx](bv=aO=an("<div class='fc-view fc-view-"+bx+"' style='position:absolute'/>").appendTo(aS),bl);}if(bw){aJ.deactivateButton(bw.name);}aJ.activateButton(bx);a2();aS.css("overflow","");if(bw){E(aS,1);}if(!bv){(aR.afterShow||al)();}bk--;}}function a2(by){if(bg()){bk++;aP();if(aL===t){bf();}var bw=false;if(!aR.start||by||bq<aR.start||bq>=aR.end){aR.render(bq,by||0);bh(true);bw=true;}else{if(aR.sizeDirty){aR.clearEvents();bh();bw=true;}else{if(aR.eventsDirty){aR.clearEvents();bw=true;}}}aR.sizeDirty=false;aR.eventsDirty=false;aZ(bw);a9=aW.outerWidth();aJ.updateTitle(aR.title);var bx=an.trim(an("#calendarToday").text());var bv;if(bx==null||bx==""){bv=new Date();}else{bv=new Date(bx);}if(bv>=aR.start&&bv<aR.end){aJ.disableButton("today");}else{aJ.enableButton("today");}bk--;aR.trigger("viewDisplay",bj);}}function aY(){br();if(bg()){bf();bh();aP();aR.clearEvents();aR.renderEvents(a5);aR.sizeDirty=false;}}function br(){an.each(bt,function(bv,bw){bw.sizeDirty=true;});}function bf(){if(a3.contentHeight){aL=a3.contentHeight;}else{if(a3.height){aL=a3.height-(bd?bd.height():0)-A(aS);}else{aL=Math.round(aS.width()/Math.max(a3.aspectRatio,0.5));}}}function bh(bv){bk++;aR.setHeight(aL,bv);if(aO){aO.css("position","relative");aO=null;}aR.setWidth(aS.width(),bv);bk--;}function aT(){if(!bk){if(aR.start){var bv=++be;setTimeout(function(){if(bv==be&&!bk&&bg()){if(a9!=(a9=aW.outerWidth())){bk++;aY();aR.trigger("windowResize",bj);bk--;}}},200);}else{aM();}}}function aZ(bv){if(!a3.lazyFetching||aE(aR.visStart,aR.visEnd)){aQ();}else{if(bv){aI();}}}function aQ(){bs(aR.visStart,aR.visEnd);}function aU(bv){a5=bv;aI();}function bp(bv){aI(bv);}function aI(bv){aG();if(bg()){aR.clearEvents();aR.renderEvents(a5,bv);aR.eventsDirty=false;}}function aG(){an.each(bt,function(bv,bw){bw.eventsDirty=true;});}function bm(bx,bv,bw){aR.select(bx,bv,bw===t?true:bw);}function aP(){if(aR){aR.unselect();}}function a8(){a2(-1);}function aH(){a2(1);}function bo(){ad(bq,-1);a2();}function aF(){ad(bq,1);a2();}function aX(){var bv=an.trim(an("#calendarToday").text());if(bv==null||bv==""){bq=new Date();}else{bq=new Date(bv);}bq=new Date();a2();}function bb(bw,bx,bv){if(bw instanceof Date){bq=I(bw);}else{v(bq,bw,bx,bv);}a2();}function a0(bw,bv,bx){if(bw!==t){ad(bq,bw);}if(bv!==t){m(bq,bv);}if(bx!==t){aw(bq,bx);}a2();}function a1(){return I(bq);}function a7(){return aR;}function bi(bv,bw){if(bw===t){return a3[bv];}if(bv=="height"||bv=="contentHeight"||bv=="aspectRatio"){a3[bv]=bw;aY();}}function ba(bv,bw){if(a3[bv]){return a3[bv].apply(bw||bj,Array.prototype.slice.call(arguments,2));}}if(a3.droppable){an(document).bind("dragstart",function(bx,by){var bv=bx.target;var bz=an(bv);if(!bz.parents(".fc").length){var bw=a3.dropAccept;if(an.isFunction(bw)?bw.call(bv,bz):bz.is(bw)){aK=bv;aR.dragStart(aK,bx,by);}}}).bind("dragstop",function(bv,bw){if(aK){aR.dragStop(aK,bv,bw);aK=null;}});}}function O(aH,aQ){var aP=this;aP.render=aF;aP.destroy=aL;aP.updateTitle=aJ;aP.activateButton=aE;aP.deactivateButton=aN;aP.disableButton=aG;aP.enableButton=aK;var aI=an([]);var aM;function aF(){aM=aQ.theme?"ui":"fc";var aR=aQ.header;if(aR){aI=an("<table class='fc-header' style='width:100%'/>").append(an("<tr/>").append(aO("left")).append(aO("center")).append(aO("right")));return aI;}}function aL(){aI.remove();}function aO(aR){var aT=an("<td class='fc-header-"+aR+"'/>");var aS=aQ.header[aR];if(aS){an.each(aS.split(" "),function(aV){if(aV>0){aT.append("<span class='fc-header-space'/>");}var aU;an.each(this.split(","),function(aY,aX){if(aX=="title"){aT.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");if(aU){aU.addClass(aM+"-corner-right");}aU=null;}else{var aW;if(aH[aX]){aW=aH[aX];}else{if(Z[aX]){aW=function(){aZ.removeClass(aM+"-state-hover");aH.changeView(aX);};}}if(aW){var a0=aQ.theme?z(aQ.buttonIcons,aX):null;var a1=z(aQ.buttonText,aX);var aZ=an("<span class='fc-button fc-button-"+aX+" "+aM+"-state-default'>"+"<span class='fc-button-inner'>"+"<span class='fc-button-content'>"+(a0?"<span class='fc-icon-wrap'>"+"<span class='ui-icon ui-icon-"+a0+"'/>"+"</span>":a1)+"</span>"+"<span class='fc-button-effect'><span></span></span>"+"</span>"+"</span>");if(aZ){aZ.click(function(){if(!aZ.hasClass(aM+"-state-disabled")){aW();}}).mousedown(function(){aZ.not("."+aM+"-state-active").not("."+aM+"-state-disabled").addClass(aM+"-state-down");}).mouseup(function(){aZ.removeClass(aM+"-state-down");}).hover(function(){aZ.not("."+aM+"-state-active").not("."+aM+"-state-disabled").addClass(aM+"-state-hover");},function(){aZ.removeClass(aM+"-state-hover").removeClass(aM+"-state-down");}).appendTo(aT);if(!aU){aZ.addClass(aM+"-corner-left");}aU=aZ;}}}});if(aU){aU.addClass(aM+"-corner-right");}});}return aT;}function aJ(aR){aI.find("h2").html(aR);}function aE(aR){aI.find("span.fc-button-"+aR).addClass(aM+"-state-active");}function aN(aR){aI.find("span.fc-button-"+aR).removeClass(aM+"-state-active");}function aG(aR){aI.find("span.fc-button-"+aR).addClass(aM+"-state-disabled");}function aK(aR){aI.find("span.fc-button-"+aR).removeClass(aM+"-state-disabled");}}au.sourceNormalizers=[];au.sourceFetchers=[];var k={dataType:"json",cache:false};var R=1;function p(aK,aS){var aU=this;aU.isFetchNeeded=aM;aU.fetchEvents=aT;aU.addEventSource=aH;aU.removeEventSource=aI;aU.updateEvent=aX;aU.renderEvent=aQ;aU.removeEvents=a9;aU.clientEvents=a3;aU.normalizeEvent=aP;var aW=aU.trigger;var aE=aU.getView;var aZ=aU.reportEvents;var a1={events:[]};var aF=[a1];var a6,a2;var aG=0;var a7=0;var a5=0;var aV=[];for(var a4=0;a4<aS.length;a4++){aY(aS[a4]);}function aM(bb,ba){return !a6||bb<a6||ba>a2;}function aT(be,bb){a6=be;a2=bb;aV=[];var bd=++aG;var ba=aF.length;a7=ba;for(var bc=0;bc<ba;bc++){aL(aF[bc],bd);}}function aL(bb,ba){a0(bb,function(bd){if(ba==aG){if(bd){for(var bc=0;bc<bd.length;bc++){bd[bc].source=bb;aP(bd[bc]);}aV=aV.concat(bd);}a7--;if(!a7){aZ(aV);}}});}function a0(ba,bk){var bf;var bj=au.sourceFetchers;var bh;for(bf=0;bf<bj.length;bf++){bh=bj[bf](ba,a6,a2,bk);if(bh===true){return;}else{if(typeof bh=="object"){a0(bh,bk);return;}}}var bm=ba.events;if(bm){if(an.isFunction(bm)){aO();bm(I(a6),I(a2),function(bn){bk(bn);a8();});}else{if(an.isArray(bm)){bk(bm);}else{bk();}}}else{var bb=ba.url;if(bb){var bl=ba.success;var bi=ba.error;var bc=ba.complete;var be=an.extend({},ba.data||{});var bg=aC(ba.startParam,aK.startParam);var bd=aC(ba.endParam,aK.endParam);if(bg){be[bg]=Math.round(+a6/1000);}if(bd){be[bd]=Math.round(+a2/1000);}aO();an.ajax(an.extend({},k,ba,{data:be,success:function(bo){bo=bo||[];var bn=D(bl,this,arguments);if(an.isArray(bn)){bo=bn;}bk(bo);},error:function(){D(bi,this,arguments);bk();},complete:function(){D(bc,this,arguments);a8();}}));}else{bk();}}}function aH(ba){ba=aY(ba);if(ba){a7++;aL(ba,aG);}}function aY(ba){if(an.isFunction(ba)||an.isArray(ba)){ba={events:ba};}else{if(typeof ba=="string"){ba={url:ba};}}if(typeof ba=="object"){aR(ba);aF.push(ba);return ba;}}function aI(ba){aF=an.grep(aF,function(bb){return !aN(bb,ba);});aV=an.grep(aV,function(bb){return !aN(bb.source,ba);});aZ(aV);}function aX(bf){var bd,bb=aV.length,bg,ba=aE().defaultEventEnd,be=bf.start-bf._start,bc=bf.end?(bf.end-(bf._end||ba(bf))):0;for(bd=0;bd<bb;bd++){bg=aV[bd];if(bg._id==bf._id&&bg!=bf){bg.start=new Date(+bg.start+be);if(bf.end){if(bg.end){bg.end=new Date(+bg.end+bc);}else{bg.end=new Date(+ba(bg)+bc);}}else{bg.end=null;}bg.title=bf.title;bg.url=bf.url;bg.allDay=bf.allDay;bg.className=bf.className;bg.editable=bf.editable;bg.color=bf.color;bg.backgroudColor=bf.backgroudColor;bg.borderColor=bf.borderColor;bg.textColor=bf.textColor;aP(bg);}}aP(bf);aZ(aV);}function aQ(bb,ba){aP(bb);if(!bb.source){if(ba){a1.events.push(bb);bb.source=a1;}aV.push(bb);}aZ(aV);}function a9(bb){if(!bb){aV=[];for(var ba=0;ba<aF.length;ba++){if(an.isArray(aF[ba].events)){aF[ba].events=[];}}}else{if(!an.isFunction(bb)){var bc=bb+"";bb=function(bd){return bd._id==bc;};}aV=an.grep(aV,bb,true);for(var ba=0;ba<aF.length;ba++){if(an.isArray(aF[ba].events)){aF[ba].events=an.grep(aF[ba].events,bb,true);}}}aZ(aV);}function a3(ba){if(an.isFunction(ba)){return an.grep(aV,ba);}else{if(ba){ba+="";return an.grep(aV,function(bb){return bb._id==ba;});}}return aV;}function aO(){if(!a5++){aW("loading",null,true);}}function a8(){if(!--a5){aW("loading",null,false);}}function aP(bb){var bc=bb.source||{};var ba=aC(bc.ignoreTimezone,aK.ignoreTimezone);bb._id=bb._id||(bb.id===t?"_fc"+R++:bb.id+"");if(bb.date){if(!bb.start){bb.start=bb.date;}delete bb.date;}bb._start=I(bb.start=V(bb.start,ba));bb.end=V(bb.end,ba);if(bb.end&&bb.end<=bb.start){bb.end=null;}bb._end=bb.end?I(bb.end):null;if(bb.allDay===t){bb.allDay=aC(bc.allDayDefault,aK.allDayDefault);}if(bb.className){if(typeof bb.className=="string"){bb.className=bb.className.split(/\s+/);}}else{bb.className=[];}}function aR(bc){if(bc.className){if(typeof bc.className=="string"){bc.className=bc.className.split(/\s+/);}}else{bc.className=[];}var bb=au.sourceNormalizers;for(var ba=0;ba<bb.length;ba++){bb[ba](bc);}}function aN(bb,ba){return bb&&ba&&aJ(bb)==aJ(ba);}function aJ(ba){return((typeof ba=="object")?(ba.events||ba.url):"")||ba;}}au.addDays=aw;au.cloneDate=I;au.parseDate=V;au.parseISO8601=l;au.parseTime=aA;au.formatDate=x;au.formatDates=h;var L=["sun","mon","tue","wed","thu","fri","sat"],ap=86400000,af=3600000,Q=60000;function ad(aF,aG,aE){aF.setFullYear(aF.getFullYear()+aG);if(!aE){b(aF);}return aF;}function m(aH,aI,aG){if(+aH){var aE=aH.getMonth()+aI,aF=I(aH);aF.setDate(1);aF.setMonth(aE);aH.setMonth(aE);if(!aG){b(aH);}while(aH.getMonth()!=aF.getMonth()){aH.setDate(aH.getDate()+(aH<aF?1:-1));}}return aH;}function aw(aH,aI,aG){if(+aH){var aE=aH.getDate()+aI,aF=I(aH);aF.setHours(9);aF.setDate(aE);aH.setDate(aE);if(!aG){b(aH);}ay(aH,aF);}return aH;}function ay(aF,aE){if(+aF){while(aF.getDate()!=aE.getDate()){aF.setTime(+aF+(aF<aE?1:-1)*af);}}}function g(aE,aF){aE.setMinutes(aE.getMinutes()+aF);return aE;}function b(aE){aE.setHours(0);aE.setMinutes(0);aE.setSeconds(0);aE.setMilliseconds(0);return aE;}function I(aE,aF){if(aF){return b(new Date(+aE));}return new Date(+aE);}function d(){var aE=0,aF;do{aF=new Date(1970,aE++,1);}while(aF.getHours());return aF;}function aB(aE,aF,aG){aF=aF||1;while(!aE.getDay()||(aG&&aE.getDay()==1||!aG&&aE.getDay()==6)){aw(aE,aF);}return aE;}function at(aF,aE){return Math.round((I(aF,true)-I(aE,true))/ap);}function v(aF,aH,aE,aG){if(aH!==t&&aH!=aF.getFullYear()){aF.setDate(1);aF.setMonth(0);aF.setFullYear(aH);}if(aE!==t&&aE!=aF.getMonth()){aF.setDate(1);aF.setMonth(aE);}if(aG!==t){aF.setDate(aG);}}function V(aF,aE){if(typeof aF=="object"){return aF;}if(typeof aF=="number"){return new Date(aF*1000);}if(typeof aF=="string"){if(aF.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(aF)*1000);}if(aE===t){aE=true;}return l(aF,aE)||(aF?new Date(aF):null);}return null;}function l(aI,aF){var aE=aI.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!aE){return null;}var aH=new Date(aE[1],0,1);if(aF||!aE[13]){var aG=new Date(aE[1],0,1,9,0);if(aE[3]){aH.setMonth(aE[3]-1);aG.setMonth(aE[3]-1);}if(aE[5]){aH.setDate(aE[5]);aG.setDate(aE[5]);}ay(aH,aG);if(aE[7]){aH.setHours(aE[7]);}if(aE[8]){aH.setMinutes(aE[8]);}if(aE[10]){aH.setSeconds(aE[10]);}if(aE[12]){aH.setMilliseconds(Number("0."+aE[12])*1000);}ay(aH,aG);}else{aH.setUTCFullYear(aE[1],aE[3]?aE[3]-1:0,aE[5]||1);aH.setUTCHours(aE[7]||0,aE[8]||0,aE[10]||0,aE[12]?Number("0."+aE[12])*1000:0);if(aE[14]){var aJ=Number(aE[16])*60+(aE[18]?Number(aE[18]):0);aJ*=aE[15]=="-"?1:-1;aH=new Date(+aH+(aJ*60*1000));}}return aH;}function aA(aG){if(typeof aG=="number"){return aG*60;}if(typeof aG=="object"){return aG.getHours()*60+aG.getMinutes();}var aE=aG.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(aE){var aF=parseInt(aE[1],10);if(aE[3]){aF%=12;if(aE[3].toLowerCase().charAt(0)=="p"){aF+=12;}}return aF*60+(aE[2]?parseInt(aE[2],10):0);}}function x(aF,aG,aE){return h(aF,null,aG,aE);}function h(aQ,aP,aO,aR){aR=aR||H;var aF=aQ,aH=aP,aI,aJ=aO.length,aL,aG,aN,aK="";for(aI=0;aI<aJ;aI++){aL=aO.charAt(aI);if(aL=="'"){for(aG=aI+1;aG<aJ;aG++){if(aO.charAt(aG)=="'"){if(aF){if(aG==aI+1){aK+="'";}else{aK+=aO.substring(aI+1,aG);}aI=aG;}break;}}}else{if(aL=="("){for(aG=aI+1;aG<aJ;aG++){if(aO.charAt(aG)==")"){var aE=x(aF,aO.substring(aI+1,aG),aR);if(parseInt(aE.replace(/\D/,""),10)){aK+=aE;}aI=aG;break;}}}else{if(aL=="["){for(aG=aI+1;aG<aJ;aG++){if(aO.charAt(aG)=="]"){var aM=aO.substring(aI+1,aG);var aE=x(aF,aM,aR);if(aE!=x(aH,aM,aR)){aK+=aE;}aI=aG;break;}}}else{if(aL=="{"){aF=aP;aH=aQ;}else{if(aL=="}"){aF=aQ;aH=aP;}else{for(aG=aJ;aG>aI;aG--){if(aN=ar[aO.substring(aI,aG)]){if(aF){aK+=aN(aF,aR);}aI=aG-1;break;}}if(aG==aI){if(aF){aK+=aL;}}}}}}}}return aK;}var ar={s:function(aE){return aE.getSeconds();},ss:function(aE){return W(aE.getSeconds());},m:function(aE){return aE.getMinutes();},mm:function(aE){return W(aE.getMinutes());},h:function(aE){return aE.getHours()%12||12;},hh:function(aE){return W(aE.getHours()%12||12);},H:function(aE){return aE.getHours();},HH:function(aE){return W(aE.getHours());},d:function(aE){return aE.getDate();},dd:function(aE){return W(aE.getDate());},ddd:function(aF,aE){return aE.dayNamesShort[aF.getDay()];},dddd:function(aF,aE){return aE.dayNames[aF.getDay()];},M:function(aE){return aE.getMonth()+1;},MM:function(aE){return W(aE.getMonth()+1);},MMM:function(aF,aE){return aE.monthNamesShort[aF.getMonth()];},MMMM:function(aF,aE){return aE.monthNames[aF.getMonth()];},yy:function(aE){return(aE.getFullYear()+"").substring(2);},yyyy:function(aE){return aE.getFullYear();},t:function(aE){return aE.getHours()<12?"a":"p";},tt:function(aE){return aE.getHours()<12?"am":"pm";},T:function(aE){return aE.getHours()<12?"A":"P";},TT:function(aE){return aE.getHours()<12?"AM":"PM";},u:function(aE){return x(aE,"yyyy-MM-dd'T'HH:mm:ss'Z'");},S:function(aF){var aE=aF.getDate();if(aE>10&&aE<20){return"th";}return["st","nd","rd"][aE%10-1]||"th";}};au.applyAll=D;function ai(aE){if(aE.end){return o(aE.end,aE.allDay);}else{return aw(I(aE.start),1);}}function o(aE,aF){aE=I(aE);return aF||aE.getHours()||aE.getMinutes()?aw(aE,1):b(aE);}function r(aF,aE){return(aE.msLength-aF.msLength)*100+(aF.event.start-aE.event.start);}function J(aF,aE){return aF.end>aE.start&&aF.start<aE.end;}function X(aQ,aK,aG,aJ){var aH=[],aL,aN=aQ.length,aF,aO,aM,aP,aR,aE,aI;for(aL=0;aL<aN;aL++){aF=aQ[aL];aO=aF.start;aM=aK[aL];if(aM>aG&&aO<aJ){if(aO<aG){aP=I(aG);aE=false;}else{aP=aO;aE=true;}if(aM>aJ){aR=I(aJ);aI=false;}else{aR=aM;aI=true;}aH.push({event:aF,start:aP,end:aR,isStart:aE,isEnd:aI,msLength:aR-aP});}}return aH.sort(r);}function ac(aG){var aK=[],aJ,aE=aG.length,aF,aI,aL,aH;for(aJ=0;aJ<aE;aJ++){aF=aG[aJ];aI=0;while(true){aL=false;if(aK[aI]){for(aH=0;aH<aK[aI].length;aH++){if(J(aK[aI][aH],aF)){aL=true;break;}}}if(aL){aI++;}else{break;}}if(aK[aI]){aK[aI].push(aF);}else{aK[aI]=[aF];}}return aK;}function s(aF,aE,aG){aF.unbind("mouseover").mouseover(function(aK){var aJ=aK.target,aL,aI,aH;while(aJ!=this){aL=aJ;aJ=aJ.parentNode;}if((aI=aL._fci)!==t){aL._fci=t;aH=aE[aI];aG(aH.event,aH.element,aH);an(aK.target).trigger(aK);}aK.stopPropagation();});}function ao(aG,aH,aE){for(var aF=0,aI;aF<aG.length;aF++){aI=an(aG[aF]);aI.width(Math.max(0,aH-f(aI,aE)));}}function U(aH,aE,aF){for(var aG=0,aI;aG<aH.length;aG++){aI=an(aH[aG]);aI.height(Math.max(0,aE-A(aI,aF)));}}function f(aF,aE){return ab(aF)+n(aF)+(aE?aa(aF):0);}function ab(aE){return(parseFloat(an.curCSS(aE[0],"paddingLeft",true))||0)+(parseFloat(an.curCSS(aE[0],"paddingRight",true))||0);}function aa(aE){return(parseFloat(an.curCSS(aE[0],"marginLeft",true))||0)+(parseFloat(an.curCSS(aE[0],"marginRight",true))||0);}function n(aE){return(parseFloat(an.curCSS(aE[0],"borderLeftWidth",true))||0)+(parseFloat(an.curCSS(aE[0],"borderRightWidth",true))||0);}function A(aF,aE){return u(aF)+ak(aF)+(aE?i(aF):0);}function u(aE){return(parseFloat(an.curCSS(aE[0],"paddingTop",true))||0)+(parseFloat(an.curCSS(aE[0],"paddingBottom",true))||0);}function i(aE){return(parseFloat(an.curCSS(aE[0],"marginTop",true))||0)+(parseFloat(an.curCSS(aE[0],"marginBottom",true))||0);}function ak(aE){return(parseFloat(an.curCSS(aE[0],"borderTopWidth",true))||0)+(parseFloat(an.curCSS(aE[0],"borderBottomWidth",true))||0);}function E(aF,aE){aE=(typeof aE=="number"?aE+"px":aE);aF.each(function(aH,aG){aG.style.cssText+=";min-height:"+aE+";_height:"+aE;});}function al(){}function S(aF,aE){return aF-aE;}function am(aE){return Math.max.apply(Math,aE);}function W(aE){return(aE<10?"0":"")+aE;}function z(aI,aE){if(aI[aE]!==t){return aI[aE];}var aH=aE.split(/(?=[A-Z])/),aG=aH.length-1,aF;for(;aG>=0;aG--){aF=aI[aH[aG].toLowerCase()];if(aF!==t){return aF;}}return aI[""];}function az(aE){return aE.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />");}function C(aE){return aE.id+"/"+aE.className+"/"+aE.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"");}function aD(aE){aE.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false;});}function c(aE){aE.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last");}function G(aE,aF){aE.each(function(aG,aH){aH.className=aH.className.replace(/^fc-\w*/,"fc-"+L[aF.getDay()]);});}function M(aF,aG){var aE=aF.source||{};var aL=aF.color;var aJ=aE.color;var aI=aG("eventColor");var aM=aF.backgroundColor||aL||aE.backgroundColor||aJ||aG("eventBackgroundColor")||aI;var aH=aF.borderColor||aL||aE.borderColor||aJ||aG("eventBorderColor")||aI;var aN=aF.textColor||aE.textColor||aG("eventTextColor");var aK=[];if(aM){aK.push("background-color:"+aM);}if(aH){aK.push("border-color:"+aH);}if(aN){aK.push("color:"+aN);}return aK.join(";");}function D(aH,aI,aF){if(an.isFunction(aH)){aH=[aH];}if(aH){var aG;var aE;for(aG=0;aG<aH.length;aG++){aE=aH[aG].apply(aI,aF)||aE;}return aE;}}function aC(){for(var aE=0;aE<arguments.length;aE++){if(arguments[aE]!==t){return arguments[aE];}}}Z.month=Y;function Y(aH,aK){var aG=this;aG.render=aI;w.call(aG,aH,aK,"month");var aF=aG.opt;var aE=aG.renderBasic;var aJ=aK.formatDate;function aI(aO,aS){if(aS){m(aO,aS);aO.setDate(1);}var aM=I(aO,true);aM.setDate(1);var aP=m(I(aM),1);var aT=I(aM);var aQ=I(aP);var aL=aF("firstDay");var aN=aF("weekends")?0:1;if(aN){aB(aT);aB(aQ,-1,true);}aw(aT,-((aT.getDay()-Math.max(aL,aN)+7)%7));aw(aQ,(7-aQ.getDay()+Math.max(aL,aN))%7);var aR=Math.round((aQ-aT)/(ap*7));if(aF("weekMode")=="fixed"){aw(aQ,(6-aR)*7);aR=6;}aG.title=aJ(aM,aF("titleFormat"));aG.start=aM;aG.end=aP;aG.visStart=aT;aG.visEnd=aQ;aE(6,aR,aN?5:7,true);}}Z.basicWeek=av;function av(aI,aK){var aH=this;aH.render=aJ;w.call(aH,aI,aK,"basicWeek");var aG=aH.opt;var aF=aH.renderBasic;var aE=aK.formatDates;function aJ(aP,aR){if(aR){aw(aP,aR*7);}var aQ=aw(I(aP),-((aP.getDay()-aG("firstDay")+7)%7));var aN=aw(I(aQ),7);var aM=I(aQ);var aL=I(aN);var aO=aG("weekends");if(!aO){aB(aM);aB(aL,-1,true);}aH.title=aE(aM,aw(I(aL),-1),aG("titleFormat"));aH.start=aQ;aH.end=aN;aH.visStart=aM;aH.visEnd=aL;aF(1,1,aO?7:5,false);}}Z.basicDay=F;function F(aH,aK){var aG=this;aG.render=aI;w.call(aG,aH,aK,"basicDay");var aF=aG.opt;var aE=aG.renderBasic;var aJ=aK.formatDate;function aI(aL,aM){if(aM){aw(aL,aM);if(!aF("weekends")){aB(aL,aM<0?-1:1);}}aG.title=aJ(aL,aF("titleFormat"));aG.start=aG.visStart=I(aL,true);aG.end=aG.visEnd=aw(I(aG.start),1);aE(1,1,1,false);}}ae({weekMode:"fixed"});function w(aU,bk,aN){var bj=this;bj.renderBasic=bc;bj.setHeight=bh;bj.setWidth=br;bj.renderDayOverlay=a7;bj.defaultSelectionEnd=a6;bj.renderSelection=bl;bj.clearSelection=aE;bj.reportDayClick=aS;bj.dragStart=aG;bj.dragStop=aO;bj.defaultEventEnd=by;bj.getHoverListener=function(){return aH;};bj.colContentLeft=bg;bj.colContentRight=bd;bj.dayOfWeekCol=a2;bj.dateCell=be;bj.cellDate=bx;bj.cellIsAllDay=function(){return true;};bj.allDayRow=aR;bj.allDayBounds=bo;bj.getRowCnt=function(){return a0;};bj.getColCnt=function(){return aJ;};bj.getColWidth=function(){return a3;};bj.getDaySegmentContainer=function(){return aQ;};ax.call(bj,aU,bk,aN);a.call(bj);ah.call(bj);ag.call(bj);var aX=bj.opt;var a9=bj.trigger;var a5=bj.clearEvents;var bu=bj.renderOverlay;var aM=bj.clearOverlays;var bf=bj.daySelectionMousedown;var bi=bk.formatDate;var aT;var aP;var a1;var aL;var aV;var a4;var bb;var aQ;var bv;var bA;var a3;var a0,aJ;var bn;var aH;var bp;var bm,bz,bw;var aZ;var aW;var bB;var aK;aD(aU.addClass("fc-grid"));function bc(bD,bE,bG,bC){a0=bE;aJ=bG;bs();var bF=!a1;if(bF){a8(bD,bC);}else{a5();}aF(bF);}function bs(){bm=aX("isRTL");if(bm){bz=-1;bw=aJ-1;}else{bz=1;bw=0;}aZ=aX("firstDay");aW=aX("weekends")?0:1;bB=aX("theme")?"ui":"fc";aK=aX("columnFormat");}function a8(bI,bF){var bH;var bG=bB+"-widget-header";var bD=bB+"-widget-content";var bE,bC;var bJ;bH="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+"<thead>"+"<tr>";for(bE=0;bE<aJ;bE++){bH+="<th class='fc- "+bG+"'/>";}bH+="</tr>"+"</thead>"+"<tbody>";for(bE=0;bE<bI;bE++){bH+="<tr class='fc-week"+bE+"'>";for(bC=0;bC<aJ;bC++){bH+="<td class='fc- "+bD+" fc-day"+(bE*aJ+bC)+"'>"+"<div>"+(bF?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";}bH+="</tr>";}bH+="</tbody>"+"</table>";bJ=an(bH).appendTo(aU);aT=bJ.find("thead");aP=aT.find("th");a1=bJ.find("tbody");aL=a1.find("tr");aV=a1.find("td");a4=aV.filter(":first-child");bb=aL.eq(0).find("div.fc-day-content div");c(aT.add(aT.find("tr")));c(aL);aL.eq(0).addClass("fc-first");aI(aV);aQ=an("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(aU);}function aF(bJ){var bF=bJ||a0==1;var bH=bj.start.getMonth();var bG=an.trim(an("#calendarToday").text());var bD;if(bG==null||bG==""){bD=b(new Date());}else{bD=b(new Date(bG));}var bC;var bE;var bI;if(bF){aP.each(function(bK,bL){bC=an(bL);bE=ba(bK);bC.html(bi(bE,aK));G(bC,bE);});}aV.each(function(bK,bL){bC=an(bL);bE=ba(bK);if(bE.getMonth()==bH){bC.removeClass("fc-other-month");}else{bC.addClass("fc-other-month");}if(+bE==+bD){bC.addClass(bB+"-state-highlight fc-today");}else{bC.removeClass(bB+"-state-highlight fc-today");}bC.find("div.fc-day-number").text(bE.getDate());if(bF){G(bC,bE);}});aL.each(function(bK,bL){bI=an(bL);if(bK<a0){bI.show();if(bK==a0-1){bI.addClass("fc-last");}else{bI.removeClass("fc-last");}}else{bI.hide();}});}function bh(bD){bA=bD;var bG=bA-aT.height();var bF;var bE;var bC;if(aX("weekMode")=="variable"){bF=bE=Math.floor(bG/(a0==1?2:6));}else{bF=Math.floor(bG/a0);bE=bG-bF*(a0-1);}a4.each(function(bH,bI){if(bH<a0){bC=an(bI);E(bC.find("> div"),(bH==a0-1?bE:bF)-A(bC));}});}function br(bC){bv=bC;bp.clear();a3=Math.floor(bv/aJ);ao(aP.slice(0,-1),a3);}function aI(bC){bC.click(bt).mousedown(bf);}function bt(bE){if(!aX("selectable")){var bD=parseInt(this.className.match(/fc\-day(\d+)/)[1]);var bC=ba(bD);a9("dayClick",this,bC,true,bE);}}function a7(bH,bL,bF){if(bF){bn.build();}var bC=I(bj.visStart);var bI=aw(I(bC),aJ);for(var bE=0;bE<a0;bE++){var bG=new Date(Math.max(bC,bH));var bK=new Date(Math.min(bI,bL));if(bG<bK){var bD,bJ;if(bm){bD=at(bK,bC)*bz+bw+1;bJ=at(bG,bC)*bz+bw+1;}else{bD=at(bG,bC);bJ=at(bK,bC);}aI(bq(bE,bD,bE,bJ-1));}aw(bC,7);aw(bI,7);}}function bq(bF,bG,bD,bE){var bC=bn.rect(bF,bG,bD,bE,aU);return bu(bC,aU);}function a6(bC,bD){return I(bC);}function bl(bC,bE,bD){a7(bC,aw(I(bE),1),true);}function aE(){aM();}function aS(bE,bG,bF){var bC=be(bE);var bD=aV[bC.row*aJ+bC.col];a9("dayClick",bD,bE,bG,bF);}function aG(bE,bC,bD){aH.start(function(bF){aM();if(bF){bq(bF.row,bF.col,bF.row,bF.col);}},bC);}function aO(bG,bD,bE){var bC=aH.stop();aM();if(bC){var bF=bx(bC);a9("drop",bG,bF,true,bD,bE);}}function by(bC){return I(bC.start);}bn=new K(function(bC,bF){var bE,bG,bD;aP.each(function(bI,bH){bE=an(bH);bG=bE.offset().left;if(bI){bD[1]=bG;}bD=[bG];bF[bI]=bD;});bD[1]=bG+bE.outerWidth();aL.each(function(bI,bH){if(bI<a0){bE=an(bH);bG=bE.offset().top;if(bI){bD[1]=bG;}bD=[bG];bC[bI]=bD;}});bD[1]=bG+bE.outerHeight();});aH=new aj(bn);bp=new j(function(bC){return bb.eq(bC);});function bg(bC){return bp.left(bC);}function bd(bC){return bp.right(bC);}function be(bC){return{row:Math.floor(at(bC,bj.visStart)/7),col:a2(bC.getDay())};}function bx(bC){return aY(bC.row,bC.col);}function aY(bD,bC){return aw(I(bj.visStart),bD*7+bC*bz+bw);}function ba(bC){return aY(Math.floor(bC/aJ),bC%aJ);}function a2(bC){return((bC-Math.max(aZ,aW)+aJ)%aJ)*bz+bw;}function aR(bC){return aL.eq(bC);}function bo(bC){return{left:0,right:bv};}}function ag(){var aP=this;aP.renderEvents=aK;aP.compileDaySegs=aO;aP.clearEvents=aN;aP.bindDaySeg=aJ;T.call(aP);var aG=aP.opt;var aR=aP.trigger;var aV=aP.isEventDraggable;var aX=aP.isEventResizable;var aW=aP.reportEvents;var a0=aP.reportEventClear;var aF=aP.eventElementHandlers;var aY=aP.showEvents;var aE=aP.hideEvents;var aT=aP.eventDrop;var a1=aP.getDaySegmentContainer;var aZ=aP.getHoverListener;var aM=aP.renderDayOverlay;var aS=aP.clearOverlays;var aI=aP.getRowCnt;var aU=aP.getColCnt;var aQ=aP.renderDaySegs;var aL=aP.resizableDayEvent;function aK(a3,a2){aW(a3);aQ(aO(a3),a2);}function aN(){a0();a1().empty();}function aO(bd){var ba=aI(),bc=aU(),a4=I(aP.visStart),a2=aw(I(a4),bc),bb=an.map(bd,ai),a9,be,a8,a3,a6,a7,a5=[];for(a9=0;a9<ba;a9++){be=ac(X(bd,bb,a4,a2));for(a8=0;a8<be.length;a8++){a3=be[a8];for(a6=0;a6<a3.length;a6++){a7=a3[a6];a7.row=a9;a7.level=a8;a5.push(a7);}}aw(a4,7);aw(a2,7);}return a5;}function aJ(a4,a3,a2){if(aV(a4)){aH(a4,a3);}if(a2.isEnd&&aX(a4)){aL(a4,a3,a2);}aF(a4,a3);}function aH(a5,a4){var a3=aZ();var a2;a4.draggable({zIndex:9,delay:50,opacity:aG("dragOpacity"),revertDuration:aG("dragRevertDuration"),start:function(a6,a7){aR("eventDragStart",a4,a5,a6,a7);aE(a5,a4);a3.start(function(a9,a8,ba,bb){a4.draggable("option","revert",!a9||!ba&&!bb);aS();if(a9){a2=ba*7+bb*(aG("isRTL")?-1:1);aM(aw(I(a5.start),a2),aw(ai(a5),a2));}else{a2=0;}},a6,"drag");},stop:function(a6,a7){a3.stop();aS();aR("eventDragStop",a4,a5,a6,a7);if(a2){aT(this,a5,a2,0,a5.allDay,a6,a7);}else{a4.css("filter","");aY(a5,a4);}}});}}Z.agendaWeek=e;function e(aI,aK){var aH=this;aH.render=aJ;B.call(aH,aI,aK,"agendaWeek");var aG=aH.opt;var aF=aH.renderAgenda;var aE=aK.formatDates;function aJ(aP,aR){if(aR){aw(aP,aR*7);}var aQ=aw(I(aP),-((aP.getDay()-aG("firstDay")+7)%7));var aN=aw(I(aQ),7);var aM=I(aQ);var aL=I(aN);var aO=aG("weekends");if(!aO){aB(aM);aB(aL,-1,true);}aH.title=aE(aM,aw(I(aL),-1),aG("titleFormat"));aH.start=aQ;aH.end=aN;aH.visStart=aM;aH.visEnd=aL;aF(aO?7:5);}}Z.agendaDay=aq;function aq(aH,aK){var aG=this;aG.render=aI;B.call(aG,aH,aK,"agendaDay");var aF=aG.opt;var aE=aG.renderAgenda;var aJ=aK.formatDate;function aI(aM,aO){if(aO){aw(aM,aO);if(!aF("weekends")){aB(aM,aO<0?-1:1);}}var aN=I(aM,true);var aL=aw(I(aN),1);aG.title=aJ(aM,aF("titleFormat"));aG.start=aG.visStart=aN;aG.end=aG.visEnd=aL;aE(1);}}ae({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});function B(b1,aW,a9){var a5=this;a5.renderAgenda=aQ;a5.setWidth=bk;a5.setHeight=bg;a5.beforeHide=be;a5.afterShow=bS;a5.defaultEventEnd=bM;a5.timePosition=b4;a5.dayOfWeekCol=aR;a5.dateCell=bX;a5.cellDate=aI;a5.cellIsAllDay=bW;a5.allDayRow=bz;a5.allDayBounds=bo;a5.getHoverListener=function(){return b0;};a5.colContentLeft=b5;a5.colContentRight=aN;a5.getDaySegmentContainer=function(){return a1;};a5.getSlotSegmentContainer=function(){return aL;};a5.getMinMinute=function(){return bc;};a5.getMaxMinute=function(){return aG;};a5.getBodyContent=function(){return by;};a5.getRowCnt=function(){return 1;};a5.getColCnt=function(){return bB;};a5.getColWidth=function(){return aO;};a5.getSlotHeight=function(){return bC;};a5.defaultSelectionEnd=bj;a5.renderDayOverlay=aJ;a5.renderSelection=bV;a5.clearSelection=bP;a5.reportDayClick=a4;a5.dragStart=aP;a5.dragStop=b2;ax.call(a5,b1,aW,a9);a.call(a5);ah.call(a5);P.call(a5);var bx=a5.opt;var bA=a5.trigger;var bw=a5.clearEvents;var bn=a5.renderOverlay;var aH=a5.clearOverlays;var bp=a5.reportSelection;var bT=a5.unselect;var bt=a5.daySelectionMousedown;var aX=a5.slotSegHtml;var a2=aW.formatDate;var bK;var bY;var bO;var bN;var a8;var aK;var bL;var bI;var b3;var a1;var bZ;var bR;var bl;var by;var aL;var aS;var bH;var bd;var a3;var aM;var bq;var bF;var bh;var aO;var bu;var bC;var aE;var bB;var bG;var bD;var b0;var br;var ba={};var bm;var bf;var bv;var aF,aZ,aY;var bc,aG;var aU;aD(b1.addClass("fc-agenda"));function aQ(b6){bB=b6;bE();if(!bK){a7();}else{bw();}aV();}function bE(){bm=bx("theme")?"ui":"fc";bv=bx("weekends")?0:1;bf=bx("firstDay");if(aF=bx("isRTL")){aZ=-1;aY=bB-1;}else{aZ=1;aY=0;}bc=aA(bx("minTime"));aG=aA(bx("maxTime"));aU=bx("columnFormat");}function a7(){var cb=bm+"-widget-header";var b6=bm+"-widget-content";var ca;var b9;var cd;var cc;var b8;var b7=bx("slotMinutes")%15==0;ca="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+"<thead>"+"<tr>"+"<th class='fc-agenda-axis "+cb+"'>&nbsp;</th>";for(b9=0;b9<bB;b9++){ca+="<th class='fc- fc-col"+b9+" "+cb+"'/>";}ca+="<th class='fc-agenda-gutter "+cb+"'>&nbsp;</th>"+"</tr>"+"</thead>"+"<tbody>"+"<tr>"+"<th class='fc-agenda-axis "+cb+"'>&nbsp;</th>";for(b9=0;b9<bB;b9++){ca+="<td class='fc- fc-col"+b9+" "+b6+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";}ca+="<td class='fc-agenda-gutter "+b6+"'>&nbsp;</td>"+"</tr>"+"</tbody>"+"</table>";bK=an(ca).appendTo(b1);bY=bK.find("thead");bO=bY.find("th").slice(1,-1);bN=bK.find("tbody");a8=bN.find("td").slice(0,-1);aK=a8.find("div.fc-day-content div");bL=a8.eq(0);bI=bL.find("> div");c(bY.add(bY.find("tr")));c(bN.add(bN.find("tr")));bd=bY.find("th:first");a3=bK.find(".fc-agenda-gutter");b3=an("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(b1);if(bx("allDaySlot")){a1=an("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b3);ca="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'>"+"<tr>"+"<th class='"+cb+" fc-agenda-axis'>"+bx("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+cb+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>";bZ=an(ca).appendTo(b3);bR=bZ.find("tr");bi(bR.find("td"));bd=bd.add(bZ.find("th:first"));a3=a3.add(bZ.find("th.fc-agenda-gutter"));b3.append("<div class='fc-agenda-divider "+cb+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>");}else{a1=an([]);}bl=an("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(b3);by=an("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(bl);aL=an("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(by);ca="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'>"+"<tbody>";cd=d();cc=g(I(cd),aG);g(cd,bc);bG=0;for(b9=0;cd<cc;b9++){b8=cd.getMinutes();ca+="<tr class='fc-slot"+b9+" "+(!b8?"":"fc-minor")+"'>"+"<th class='fc-agenda-axis "+cb+"'>"+((!b7||!b8)?a2(cd,bx("axisFormat")):"&nbsp;")+"</th>"+"<td class='"+b6+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>";g(cd,bx("slotMinutes"));bG++;}ca+="</tbody>"+"</table>";aS=an(ca).appendTo(by);bH=aS.find("div:first");bQ(aS.find("td"));bd=bd.add(aS.find("th:first"));}function aV(){var b9;var b6;var ca;var b8;var b7=b(new Date());for(b9=0;b9<bB;b9++){b8=bs(b9);b6=bO.eq(b9);b6.html(a2(b8,aU));ca=a8.eq(b9);if(+b8==+b7){ca.addClass(bm+"-state-highlight fc-today");}else{ca.removeClass(bm+"-state-highlight fc-today");}G(b6.add(ca),b8);}}function bg(b6,b7){if(b6===t){b6=bF;}bF=b6;ba={};var b9=bN.position().top;var b8=bl.position().top;var ca=Math.min(b6-b9,aS.height()+b8+1);bI.height(ca-A(bL));b3.css("top",b9);bl.height(ca-b8-1);bC=bH.height()+1;if(b7){bb();}}function bk(b7){bq=b7;br.clear();bh=0;ao(bd.width("").each(function(b8,b9){bh=Math.max(bh,an(b9).outerWidth());}),bh);var b6=bl[0].clientWidth;bu=bl.width()-b6;if(bu){ao(a3,bu);a3.show().prev().removeClass("fc-last");}else{a3.hide().prev().addClass("fc-last");}aO=Math.floor((b6-bh)/bB);ao(bO.slice(0,-1),aO);}function bb(){var b9=d();var b7=I(b9);b7.setHours(bx("firstHour"));var b8=b4(b9,b7)+1;function b6(){bl.scrollTop(b8);}b6();setTimeout(b6,0);}function be(){aE=bl.scrollTop();}function bS(){bl.scrollTop(aE);}function bi(b6){b6.click(bJ).mousedown(bt);}function bQ(b6){b6.click(bJ).mousedown(aT);}function bJ(ca){if(!bx("selectable")){var b8=Math.min(bB-1,Math.floor((ca.pageX-bK.offset().left-bh)/aO));var b7=bs(b8);var cb=this.parentNode.className.match(/fc-slot(\d+)/);if(cb){var b9=parseInt(cb[1])*bx("slotMinutes");var b6=Math.floor(b9/60);b7.setHours(b6);b7.setMinutes(b9%60+bc);bA("dayClick",a8[b8],b7,false,ca);}else{bA("dayClick",a8[b8],b7,true,ca);}}}function aJ(b6,cb,b8){if(b8){bD.build();}var b7=I(a5.visStart);var ca,b9;if(aF){ca=at(cb,b7)*aZ+aY+1;b9=at(b6,b7)*aZ+aY+1;}else{ca=at(b6,b7);b9=at(cb,b7);}ca=Math.max(0,ca);b9=Math.min(bB,b9);if(ca<b9){bi(a0(0,ca,0,b9-1));}}function a0(b9,ca,b7,b8){var b6=bD.rect(b9,ca,b7,b8,b3);return bn(b6,b3);}function a6(cb,cg){var cc=I(a5.visStart);var b7=aw(I(cc),1);for(var b9=0;b9<bB;b9++){var ca=new Date(Math.max(cc,cb));var cf=new Date(Math.min(b7,cg));if(ca<cf){var b8=b9*aZ+aY;var ce=bD.rect(0,b8,0,b8,by);var cd=b4(cc,ca);var b6=b4(cc,cf);ce.top=cd;ce.height=b6-cd;bQ(bn(ce,by));}aw(cc,1);aw(b7,1);}}bD=new K(function(ce,cc){var ca,b7,b6;bO.each(function(ch,cg){ca=an(cg);b7=ca.offset().left;if(ch){b6[1]=b7;}b6=[b7];cc[ch]=b6;});b6[1]=b7+ca.outerWidth();if(bx("allDaySlot")){ca=bR;b7=ca.offset().top;ce[0]=[b7,b7+ca.outerHeight()];}var cd=by.offset().top;var cf=bl.offset().top;var b9=cf+bl.outerHeight();function cb(cg){return Math.max(cf,Math.min(b9,cg));}for(var b8=0;b8<bG;b8++){ce.push([cb(cd+bC*b8),cb(cd+bC*(b8+1))]);}});b0=new aj(bD);br=new j(function(b6){return aK.eq(b6);});function b5(b6){return br.left(b6);}function aN(b6){return br.right(b6);}function bX(b6){return{row:Math.floor(at(b6,a5.visStart)/7),col:aR(b6.getDay())};}function aI(b6){var b8=bs(b6.col);var b7=b6.row;if(bx("allDaySlot")){b7--;}if(b7>=0){g(b8,bc+b7*bx("slotMinutes"));}return b8;}function bs(b6){return aw(I(a5.visStart),b6*aZ+aY);}function bW(b6){return bx("allDaySlot")&&!b6.row;}function aR(b6){return((b6-Math.max(bf,bv)+bB)%bB)*aZ+aY;}function b4(b7,cb){b7=I(b7,true);if(cb<g(I(b7),bc)){return 0;}if(cb>=g(I(b7),aG)){return aS.height();}var b6=bx("slotMinutes"),ca=cb.getHours()*60+cb.getMinutes()-bc,b9=Math.floor(ca/b6),b8=ba[b9];if(b8===t){b8=ba[b9]=aS.find("tr:eq("+b9+") td div")[0].offsetTop;}return Math.max(0,Math.round(b8-1+bC*((ca%b6)/b6)));}function bo(){return{left:bh,right:bq-bu};}function bz(b6){return bR;}function bM(b6){var b7=I(b6.start);if(b6.allDay){return b7;}return g(b7,bx("defaultEventMinutes"));}function bj(b6,b7){if(b7){return I(b6);}return g(I(b6),bx("slotMinutes"));}function bV(b6,b8,b7){if(b7){if(bx("allDaySlot")){aJ(b6,aw(I(b8),1),true);}}else{bU(b6,b8);}}function bU(b6,cc){var ca=bx("selectHelper");bD.build();if(ca){var b8=at(b6,a5.visStart)*aZ+aY;if(b8>=0&&b8<bB){var b9=bD.rect(0,b8,0,b8,by);var cb=b4(b6,b6);var b7=b4(b6,cc);if(b7>cb){b9.top=cb;b9.height=b7-cb;b9.left+=2;b9.width-=5;if(an.isFunction(ca)){var cd=ca(b6,cc);if(cd){b9.position="absolute";b9.zIndex=8;aM=an(cd).css(b9).appendTo(by);}}else{b9.isStart=true;b9.isEnd=true;aM=an(aX({title:"",start:b6,end:cc,className:["fc-select-helper"],editable:false},b9));aM.css("opacity",bx("dragOpacity"));}if(aM){bQ(aM);by.append(aM);ao(aM,b9.width,true);U(aM,b9.height,true);}}}}else{a6(b6,cc);}}function bP(){aH();if(aM){aM.remove();aM=null;}}function aT(b6){if(b6.which==1&&bx("selectable")){bT(b6);var b7;b0.start(function(b9,b8){bP();if(b9&&b9.col==b8.col&&!bW(b9)){var cb=aI(b8);var ca=aI(b9);b7=[cb,g(I(cb),bx("slotMinutes")),ca,g(I(ca),bx("slotMinutes"))].sort(S);bU(b7[0],b7[3]);}else{b7=null;}},b6);an(document).one("mouseup",function(b8){b0.stop();if(b7){if(+b7[0]==+b7[1]){a4(b7[0],false,b8);}bp(b7[0],b7[3],false,b8);}});}}function a4(b6,b8,b7){bA("dayClick",a8[aR(b6.getDay())],b6,b8,b7);}function aP(b8,b6,b7){b0.start(function(b9){aH();if(b9){if(bW(b9)){a0(b9.row,b9.col,b9.row,b9.col);}else{var cb=aI(b9);var ca=g(I(cb),bx("defaultEventMinutes"));a6(cb,ca);}}},b6);}function b2(b9,b7,b8){var b6=b0.stop();aH();if(b6){bA("drop",b9,aI(b6),bW(b6),b7,b8);}}}function P(){var be=this;be.renderEvents=aK;be.compileDaySegs=aF;be.clearEvents=a0;be.slotSegHtml=a1;be.bindDaySeg=aY;T.call(be);var aT=be.opt;var a2=be.trigger;var aI=be.isEventDraggable;var bj=be.isEventResizable;var bk=be.eventEnd;var aO=be.reportEvents;var bn=be.reportEventClear;var a5=be.eventElementHandlers;var ba=be.setHeight;var aJ=be.getDaySegmentContainer;var bm=be.getSlotSegmentContainer;var aH=be.getHoverListener;var aG=be.getMaxMinute;var a7=be.getMinMinute;var aN=be.timePosition;var a9=be.colContentLeft;var a8=be.colContentRight;var bc=be.renderDaySegs;var a6=be.resizableDayEvent;var bb=be.getColCnt;var aU=be.getColWidth;var aE=be.getSlotHeight;var aZ=be.getBodyContent;var aR=be.reportEventElement;var aL=be.showEvents;var aS=be.hideEvents;var bh=be.eventDrop;var aW=be.eventResize;var a3=be.renderDayOverlay;var aM=be.clearOverlays;var bf=be.calendar;var bd=bf.formatDate;var aV=bf.formatDates;function aK(bs,bq){aO(bs);var br,bp=bs.length,bt=[],bo=[];for(br=0;br<bp;br++){if(bs[br].allDay){bt.push(bs[br]);}else{bo.push(bs[br]);}}if(aT("allDaySlot")){bc(aF(bt),bq);ba();}aP(aX(bo),bq);}function a0(){bn();aJ().empty();bm().empty();}function aF(bs){var bu=ac(X(bs,an.map(bs,ai),be.visStart,be.visEnd)),br,bt=bu.length,bv,bq,bp,bo=[];for(br=0;br<bt;br++){bv=bu[br];for(bq=0;bq<bv.length;bq++){bp=bv[bq];bp.row=0;bp.level=br;bo.push(bp);}}return bo;}function aX(bA){var bz=bb(),bx=a7(),br=aG(),by=g(I(be.visStart),bx),bv=an.map(bA,bl),bw,bq,bu,bo,bs,bt,bp=[];for(bw=0;bw<bz;bw++){bq=ac(X(bA,bv,by,g(I(by),br-bx)));y(bq);for(bu=0;bu<bq.length;bu++){bo=bq[bu];for(bs=0;bs<bo.length;bs++){bt=bo[bs];bt.col=bw;bt.level=bu;bp.push(bt);}}aw(by,1,true);}return bp;}function bl(bo){if(bo.end){return I(bo.end);}else{return g(I(bo.start),aT("defaultEventMinutes"));}}function aP(bE,bF){var bK,bN=bE.length,bM,bI,bO,bA,bx,bw,bq,by,bv,bH,bo,br,bz="",bP,bL,bt,bp={},bS={},bR,bQ,bu,bC,bJ=bm(),bs,bD,bB,bG=bb();if(bs=aT("isRTL")){bD=-1;bB=bG-1;}else{bD=1;bB=0;}for(bK=0;bK<bN;bK++){bM=bE[bK];bI=bM.event;bA=aN(bM.start,bM.start);bx=aN(bM.start,bM.end);bw=bM.col;bq=bM.level;by=bM.forward||0;bv=a9(bw*bD+bB);bH=a8(bw*bD+bB)-bv;bH=Math.min(bH-6,bH*0.95);if(bq){bo=bH/(bq+by+1);}else{if(by){bo=((bH/(by+1))-(12/2))*2;}else{bo=bH;}}br=bv+(bH/(bq+by+1)*bq)*bD+(bs?bH-bo:0);bM.top=bA;bM.left=br;bM.outerWidth=bo;bM.outerHeight=bx-bA;bz+=a1(bI,bM);}bJ[0].innerHTML=bz;bP=bJ.children();for(bK=0;bK<bN;bK++){bM=bE[bK];bI=bM.event;bL=an(bP[bK]);bt=a2("eventRender",bI,bI,bL);if(bt===false){bL.remove();}else{if(bt&&bt!==true){bL.remove();bL=an(bt).css({position:"absolute",top:bM.top,left:bM.left}).appendTo(bJ);}bM.element=bL;if(bI._id===bF){bg(bI,bL,bM);}else{bL[0]._fci=bK;}aR(bI,bL);}}s(bJ,bE,bg);for(bK=0;bK<bN;bK++){bM=bE[bK];if(bL=bM.element){bQ=bp[bR=bM.key=C(bL[0])];bM.vsides=bQ===t?(bp[bR]=A(bL,true)):bQ;bQ=bS[bR];bM.hsides=bQ===t?(bS[bR]=f(bL,true)):bQ;bu=bL.find("div.fc-event-content");if(bu.length){bM.contentTop=bu[0].offsetTop;}}}for(bK=0;bK<bN;bK++){bM=bE[bK];if(bL=bM.element){bL[0].style.width=Math.max(0,bM.outerWidth-bM.hsides)+"px";bC=Math.max(0,bM.outerHeight-bM.vsides);bL[0].style.height=bC+"px";bI=bM.event;if(bM.contentTop!==t&&bC-bM.contentTop<10){bL.find("div.fc-event-time").text(bd(bI.start,aT("timeFormat"))+" - "+bI.title);bL.find("div.fc-event-title").remove();}a2("eventAfterRender",bI,bI,bL);}}}function a1(bt,bo){var bs="<";var bq=bt.url;var bp=M(bt,aT);var bu=(bp?" style='"+bp+"'":"");var br=["fc-event","fc-event-skin","fc-event-vert"];if(aI(bt)){br.push("fc-event-draggable");}if(bo.isStart){br.push("fc-corner-top");}if(bo.isEnd){br.push("fc-corner-bottom");}br=br.concat(bt.className);if(bt.source){br=br.concat(bt.source.className||[]);}if(bq){bs+="a href='"+az(bt.url)+"'";}else{bs+="div";}bs+=" class='"+br.join(" ")+"'"+" style='position:absolute;z-index:8;top:"+bo.top+"px;left:"+bo.left+"px;"+bp+"'"+">"+"<div class='fc-event-inner fc-event-skin'"+bu+">"+"<div class='fc-event-head fc-event-skin'"+bu+">"+"<div class='fc-event-time'>"+az(aV(bt.start,bt.end,aT("timeFormat")))+"</div>"+"</div>"+"<div class='fc-event-content'>"+"<div class='fc-event-title'>"+az(bt.title)+"</div>"+"</div>"+"<div class='fc-event-bg'></div>"+"</div>";if(bo.isEnd&&bj(bt)){bs+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";}bs+="</"+(bq?"a":"div")+">";return bs;}function aY(bq,bp,bo){if(aI(bq)){aQ(bq,bp,bo.isStart);}if(bo.isEnd&&bj(bq)){a6(bq,bp,bo);}a5(bq,bp);}function bg(bq,bp,bo){var br=bp.find("div.fc-event-time");if(aI(bq)){a4(bq,bp,br);}if(bo.isEnd&&bj(bq)){bi(bq,bp,br);}a5(bq,bp);}function aQ(bp,bx,bo){var by;var bw;var bA=true;var bs;var bq=aT("isRTL")?-1:1;var br=aH();var bt=aU();var bz=aE();var bv=a7();bx.draggable({zIndex:9,opacity:aT("dragOpacity","month"),revertDuration:aT("dragRevertDuration"),start:function(bB,bC){a2("eventDragStart",bx,bp,bB,bC);aS(bp,bx);by=bx.width();br.start(function(bE,bD,bF,bG){aM();if(bE){bw=false;bs=bG*bq;if(!bE.row){a3(aw(I(bp.start),bs),aw(ai(bp),bs));bu();}else{if(bo){if(bA){bx.width(bt-10);U(bx,bz*Math.round((bp.end?((bp.end-bp.start)/Q):aT("defaultEventMinutes"))/aT("slotMinutes")));bx.draggable("option","grid",[bt,1]);bA=false;}}else{bw=true;}}bw=bw||(bA&&!bs);}else{bu();bw=true;}bx.draggable("option","revert",bw);},bB,"drag");},stop:function(bC,bD){br.stop();aM();a2("eventDragStop",bx,bp,bC,bD);if(bw){bu();bx.css("filter","");aL(bp,bx);}else{var bB=0;if(!bA){bB=Math.round((bx.offset().top-aZ().offset().top)/bz)*aT("slotMinutes")+bv-(bp.start.getHours()*60+bp.start.getMinutes());}bh(this,bp,bs,bB,bA,bC,bD);}}});function bu(){if(!bA){bx.width(by).height("").draggable("option","grid",null);bA=true;}}}function a4(bo,by,bz){var bs;var bC=false;var bt;var bx;var bv;var bp=aT("isRTL")?-1:1;var br=aH();var bA=bb();var bu=aU();var bB=aE();by.draggable({zIndex:9,scroll:false,grid:[bu,bB],axis:bA==1?"y":false,opacity:aT("dragOpacity"),revertDuration:aT("dragRevertDuration"),start:function(bD,bE){a2("eventDragStart",by,bo,bD,bE);aS(bo,by);bs=by.position();bx=bv=0;br.start(function(bG,bF,bH,bI){by.draggable("option","revert",!bG);aM();if(bG){bt=bI*bp;if(aT("allDaySlot")&&!bG.row){if(!bC){bC=true;bz.hide();by.draggable("option","grid",null);}a3(aw(I(bo.start),bt),aw(ai(bo),bt));}else{bw();}}},bD,"drag");},drag:function(bD,bE){bx=Math.round((bE.position.top-bs.top)/bB)*aT("slotMinutes");if(bx!=bv){if(!bC){bq(bx);}bv=bx;}},stop:function(bE,bF){var bD=br.stop();aM();a2("eventDragStop",by,bo,bE,bF);if(bD&&(bt||bx||bC)){bh(this,bo,bt,bC?0:bx,bC,bE,bF);}else{bw();by.css("filter","");by.css(bs);bq(0);aL(bo,by);}}});function bq(bE){var bD=g(I(bo.start),bE);var bF;if(bo.end){bF=g(I(bo.end),bE);}bz.text(aV(bD,bF,aT("timeFormat")));}function bw(){if(bC){bz.css("display","");by.draggable("option","grid",[bu,bB]);bC=false;}}}function bi(bq,bp,bs){var bt,bo;var br=aE();bp.resizable({handles:{s:"div.ui-resizable-s"},grid:br,start:function(bu,bv){bt=bo=0;aS(bq,bp);bp.css("z-index",9);a2("eventResizeStart",this,bq,bu,bv);},resize:function(bu,bv){bt=Math.round((Math.max(br,bp.height())-bv.originalSize.height)/br);if(bt!=bo){bs.text(aV(bq.start,(!bt&&!bq.end)?null:g(bk(bq),aT("slotMinutes")*bt),aT("timeFormat")));bo=bt;}},stop:function(bu,bv){a2("eventResizeStop",this,bq,bu,bv);if(bt){aW(this,bq,0,aT("slotMinutes")*bt,bu,bv);}else{bp.css("z-index",8);aL(bq,bp);}}});}}function y(aI){var aG,aF,aE,aK,aJ,aH;for(aG=aI.length-1;aG>0;aG--){aK=aI[aG];for(aF=0;aF<aK.length;aF++){aJ=aK[aF];for(aE=0;aE<aI[aG-1].length;aE++){aH=aI[aG-1][aE];if(J(aJ,aH)){aH.forward=Math.max(aH.forward||0,(aJ.forward||0)+1);}}}}}function ax(aI,aP,aU){var aO=this;aO.element=aI;aO.calendar=aP;aO.name=aU;aO.opt=aG;aO.trigger=aQ;aO.isEventDraggable=aT;aO.isEventResizable=aX;aO.reportEvents=aV;aO.eventEnd=aY;aO.reportEventElement=aW;aO.reportEventClear=a4;aO.eventElementHandlers=aF;aO.showEvents=a1;aO.hideEvents=aE;aO.eventDrop=aS;aO.eventResize=aH;var a5=aO.defaultEventEnd;var aN=aP.normalizeEvent;var aM=aP.reportEventChange;var aZ={};var a3=[];var aL={};var aJ=aP.options;function aG(a8,a6){var a7=aJ[a8];if(typeof a7=="object"){return z(a7,a6||aU);}return a7;}function aQ(a6,a7){return aP.trigger.apply(aP,[a6,a7||aO].concat(Array.prototype.slice.call(arguments,2),[aO]));}function aT(a6){return a0(a6)&&!aG("disableDragging");}function aX(a6){return a0(a6)&&!aG("disableResizing");}function a0(a6){return aC(a6.editable,(a6.source||{}).editable,aG("editable"));}function aV(a8){aZ={};var a7,a6=a8.length,a9;for(a7=0;a7<a6;a7++){a9=a8[a7];if(aZ[a9._id]){aZ[a9._id].push(a9);}else{aZ[a9._id]=[a9];}}}function aY(a6){return a6.end?I(a6.end):a5(a6);}function aW(a7,a6){a3.push(a6);if(aL[a7._id]){aL[a7._id].push(a6);}else{aL[a7._id]=[a6];}}function a4(){a3=[];aL={};}function aF(a7,a6){a6.click(function(a8){if(!a6.hasClass("ui-draggable-dragging")&&!a6.hasClass("ui-resizable-resizing")){return aQ("eventClick",this,a7,a8);}}).hover(function(a8){aQ("eventMouseover",this,a7,a8);},function(a8){aQ("eventMouseout",this,a7,a8);});}function a1(a7,a6){aR(a7,a6,"show");}function aE(a7,a6){aR(a7,a6,"hide");}function aR(a9,a8,bb){var ba=aL[a9._id],a7,a6=ba.length;for(a7=0;a7<a6;a7++){if(!a8||ba[a7][0]!=a8[0]){ba[a7][bb]();}}}function aS(a9,a7,a8,ba,bd,bc,bb){var be=a7.allDay;var a6=a7._id;a2(aZ[a6],a8,ba,bd);aQ("eventDrop",a9,a7,a8,ba,bd,function(){a2(aZ[a6],-a8,-ba,be);aM(a6);},bc,bb);aM(a6);}function aH(bc,ba,a7,a6,a9,bb){var a8=ba._id;aK(aZ[a8],a7,a6);aQ("eventResize",bc,ba,a7,a6,function(){aK(aZ[a8],-a7,-a6);aM(a8);},a9,bb);aM(a8);}function a2(ba,a8,a7,bb){a7=a7||0;for(var bc,a6=ba.length,a9=0;a9<a6;a9++){bc=ba[a9];if(bb!==t){bc.allDay=bb;}g(aw(bc.start,a8,true),a7);if(bc.end){bc.end=g(aw(bc.end,a8,true),a7);}aN(bc,aJ);}}function aK(ba,a8,a7){a7=a7||0;for(var bb,a6=ba.length,a9=0;a9<a6;a9++){bb=ba[a9];bb.end=g(aw(aY(bb),a8,true),a7);aN(bb,aJ);}}}function T(){var a7=this;a7.renderDaySegs=a6;a7.resizableDayEvent=a0;var aP=a7.opt;var aW=a7.trigger;var aG=a7.isEventDraggable;var bc=a7.isEventResizable;var bd=a7.eventEnd;var aN=a7.reportEventElement;var aJ=a7.showEvents;var aO=a7.hideEvents;var aS=a7.eventResize;var bg=a7.getRowCnt;var a5=a7.getColCnt;var aQ=a7.getColWidth;var aL=a7.allDayRow;var ba=a7.allDayBounds;var a3=a7.colContentLeft;var a1=a7.colContentRight;var aU=a7.dayOfWeekCol;var a2=a7.dateCell;var aF=a7.compileDaySegs;var aH=a7.getDaySegmentContainer;var aV=a7.bindDaySeg;var aR=a7.calendar.formatDates;var aX=a7.renderDayOverlay;var aK=a7.clearOverlays;var aE=a7.clearSelection;function a6(bj,bi){var bh=aH();var bp;var bo=bg();var bu=a5();var bn=0;var bt;var bs;var bq;var bm;var bv=bj.length;var bl;var br;var bk;bh[0].innerHTML=aY(bj);aZ(bj,bh.children());a9(bj);a4(bj,bh,bi);bf(bj);aI(bj);a8(bj);bp=aT();for(bt=0;bt<bo;bt++){bs=0;bq=[];for(bm=0;bm<bu;bm++){bq[bm]=0;}while(bn<bv&&(bl=bj[bn]).row==bt){br=am(bq.slice(bl.startCol,bl.endCol));bl.top=br;br+=bl.outerHeight;for(bk=bl.startCol;bk<bl.endCol;bk++){bq[bk]=br;}bn++;}bp[bt].height(am(bq));}be(bj,aM(bp));}function bb(bk,bj,bo){var bn=an("<div/>");var bh;var bi=aH();var bm;var bp=bk.length;var bl;bn[0].innerHTML=aY(bk);bh=bn.children();bi.append(bh);aZ(bk,bh);bf(bk);aI(bk);a8(bk);be(bk,aM(aT()));bh=[];for(bm=0;bm<bp;bm++){bl=bk[bm].element;if(bl){if(bk[bm].row===bj){bl.css("top",bo);}bh.push(bl[0]);}}return an(bh);}function aY(bm){var bt=aP("isRTL");var br;var bx=bm.length;var bq;var bk;var bl;var bo;var bh=ba();var bp=bh.left;var bj=bh.right;var bv;var bi;var bn;var bw;var bu;var bs="";for(br=0;br<bx;br++){bq=bm[br];bk=bq.event;bo=["fc-event","fc-event-skin","fc-event-hori"];if(aG(bk)){bo.push("fc-event-draggable");}if(bt){if(bq.isStart){bo.push("fc-corner-right");}if(bq.isEnd){bo.push("fc-corner-left");}bv=aU(bq.end.getDay()-1);bi=aU(bq.start.getDay());bn=bq.isEnd?a3(bv):bp;bw=bq.isStart?a1(bi):bj;}else{if(bq.isStart){bo.push("fc-corner-left");}if(bq.isEnd){bo.push("fc-corner-right");}bv=aU(bq.start.getDay());bi=aU(bq.end.getDay()-1);bn=bq.isStart?a3(bv):bp;bw=bq.isEnd?a1(bi):bj;}bo=bo.concat(bk.className);if(bk.source){bo=bo.concat(bk.source.className||[]);}bl=bk.url;bu=M(bk,aP);if(bl){bs+="<a href='"+az(bl)+"'";}else{bs+="<div";}bs+=" class='"+bo.join(" ")+"'"+" style='position:absolute;z-index:8;left:"+bn+"px;"+bu+"'"+">"+"<div"+" class='fc-event-inner fc-event-skin'"+(bu?" style='"+bu+"'":"")+">";if(!bk.allDay&&bq.isStart){bs+="<span class='fc-event-time'>"+az(aR(bk.start,bk.end,aP("timeFormat")))+"</span>";}bs+="<span class='fc-event-title'>"+az(bk.title)+"</span>"+"</div>";if(bq.isEnd&&bc(bk)){bs+="<div class='ui-resizable-handle ui-resizable-"+(bt?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>";}bs+="</"+(bl?"a":"div")+">";bq.left=bn;bq.outerWidth=bw-bn;bq.startCol=bv;bq.endCol=bi+1;}return bs;}function aZ(bi,bn){var bl;var bo=bi.length;var bh;var bm;var bk;var bj;for(bl=0;bl<bo;bl++){bh=bi[bl];bm=bh.event;bk=an(bn[bl]);bj=aW("eventRender",bm,bm,bk);if(bj===false){bk.remove();}else{if(bj&&bj!==true){bj=an(bj).css({position:"absolute",left:bh.left});bk.replaceWith(bj);bk=bj;}bh.element=bk;}}}function a9(bi){var bk;var bl=bi.length;var bh;var bj;for(bk=0;bk<bl;bk++){bh=bi[bk];bj=bh.element;if(bj){aN(bh.event,bj);}}}function a4(bi,bn,bj){var bl;var bo=bi.length;var bh;var bk;var bm;for(bl=0;bl<bo;bl++){bh=bi[bl];bk=bh.element;if(bk){bm=bh.event;if(bm._id===bj){aV(bm,bk,bh);}else{bk[0]._fci=bl;}}}s(bn,bi,aV);}function bf(bi){var bm;var bn=bi.length;var bh;var bl;var bk,bo;var bj={};for(bm=0;bm<bn;bm++){bh=bi[bm];bl=bh.element;if(bl){bk=bh.key=C(bl[0]);bo=bj[bk];if(bo===t){bo=bj[bk]=f(bl,true);}bh.hsides=bo;}}}function aI(bi){var bk;var bl=bi.length;var bh;var bj;for(bk=0;bk<bl;bk++){bh=bi[bk];bj=bh.element;if(bj){bj[0].style.width=Math.max(0,bh.outerWidth-bh.hsides)+"px";}}}function a8(bi){var bl;var bn=bi.length;var bh;var bk;var bj,bo;var bm={};for(bl=0;bl<bn;bl++){bh=bi[bl];bk=bh.element;if(bk){bj=bh.key;bo=bm[bj];if(bo===t){bo=bm[bj]=i(bk);}bh.outerHeight=bk[0].offsetHeight+bo;}}}function aT(){var bh;var bj=bg();var bi=[];for(bh=0;bh<bj;bh++){bi[bh]=aL(bh).find("td:first div.fc-day-content > div");}return bi;}function aM(bi){var bh;var bk=bi.length;var bj=[];for(bh=0;bh<bk;bh++){bj[bh]=bi[bh][0].offsetTop;}return bj;}function be(bi,bn){var bk;var bm=bi.length;var bh;var bj;var bl;for(bk=0;bk<bm;bk++){bh=bi[bk];bj=bh.element;if(bj){bj[0].style.top=bn[bh.row]+(bh.top||0)+"px";bl=bh.event;aW("eventAfterRender",bl,bl,bj);}}}function a0(bj,bi,bh){var bm=aP("isRTL");var bl=bm?"w":"e";var bk=bi.find("div.ui-resizable-"+bl);var bn=false;aD(bi);bi.mousedown(function(bo){bo.preventDefault();}).click(function(bo){if(bn){bo.preventDefault();bo.stopImmediatePropagation();}});bk.mousedown(function(bx){if(bx.which!=1){return;}bn=true;var bs=a7.getHoverListener();var bw=bg();var by=a5();var bq=bm?-1:1;var bp=bm?by-1:0;var br=bi.css("top");var bt;var bo;var bv=an.extend({},bj);var bz=a2(bj.start);aE();an("body").css("cursor",bl+"-resize").one("mouseup",bu);aW("eventResizeStart",this,bj,bx);bs.start(function(bB,bA){if(bB){var bE=Math.max(bz.row,bB.row);var bF=bB.col;if(bw==1){bE=0;}if(bE==bz.row){if(bm){bF=Math.min(bz.col,bF);}else{bF=Math.max(bz.col,bF);}}bt=(bE*7+bF*bq+bp)-(bA.row*7+bA.col*bq+bp);var bD=aw(bd(bj),bt,true);if(bt){bv.end=bD;var bC=bo;bo=bb(aF([bv]),bh.row,br);bo.find("*").css("cursor",bl+"-resize");if(bC){bC.remove();}aO(bj);}else{if(bo){aJ(bj);bo.remove();bo=null;}}aK();aX(bj.start,aw(I(bD),1));}},bx);function bu(bA){aW("eventResizeStop",this,bj,bA);an("body").css("cursor","");bs.stop();aK();if(bt){aS(this,bj,bt,0,bA);}setTimeout(function(){bn=false;},0);}});}}function ah(){var aO=this;aO.select=aM;aO.unselect=aI;aO.reportSelection=aE;aO.daySelectionMousedown=aL;var aG=aO.opt;var aH=aO.trigger;var aJ=aO.defaultSelectionEnd;var aF=aO.renderSelection;var aN=aO.clearSelection;var aK=false;if(aG("selectable")&&aG("unselectAuto")){an(document).mousedown(function(aP){var aQ=aG("unselectCancel");if(aQ){if(an(aP.target).parents(aQ).length){return;}}aI(aP);});}function aM(aP,aR,aQ){aI();if(!aR){aR=aJ(aP,aQ);}aF(aP,aR,aQ);aE(aP,aR,aQ);}function aI(aP){if(aK){aK=false;aN();aH("unselect",null,aP);}}function aE(aP,aS,aR,aQ){aK=true;aH("select",null,aP,aS,aR,aQ);}function aL(aS){var aV=aO.cellDate;var aQ=aO.cellIsAllDay;var aP=aO.getHoverListener();var aT=aO.reportDayClick;if(aS.which==1&&aG("selectable")){aI(aS);var aR=this;var aU;aP.start(function(aX,aW){aN();if(aX&&aQ(aX)){aU=[aV(aW),aV(aX)].sort(S);aF(aU[0],aU[1],true);}else{aU=null;}},aS);an(document).one("mouseup",function(aW){aP.stop();if(aU){if(+aU[0]==+aU[1]){aT(aU[0],true,aW);}aE(aU[0],aU[1],true,aW);}});}}}function a(){var aH=this;aH.renderOverlay=aF;aH.clearOverlays=aE;var aG=[];var aI=[];function aF(aK,aJ){var aL=aI.shift();if(!aL){aL=an("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>");}if(aL[0].parentNode!=aJ[0]){aL.appendTo(aJ);}aG.push(aL.css(aK).show());return aL;}function aE(){var aJ;while(aJ=aG.shift()){aI.push(aJ.hide().unbind());}}}function K(aE){var aF=this;var aG;var aH;aF.build=function(){aG=[];aH=[];aE(aG,aH);};aF.cell=function(aI,aO){var aN=aG.length;var aJ=aH.length;var aK,aL=-1,aM=-1;for(aK=0;aK<aN;aK++){if(aO>=aG[aK][0]&&aO<aG[aK][1]){aL=aK;break;}}for(aK=0;aK<aJ;aK++){if(aI>=aH[aK][0]&&aI<aH[aK][1]){aM=aK;break;}}return(aL>=0&&aM>=0)?{row:aL,col:aM}:null;};aF.rect=function(aL,aN,aJ,aK,aM){var aI=aM.offset();return{top:aG[aL][0]-aI.top,left:aH[aN][0]-aI.left,width:aH[aK][1]-aH[aN][0],height:aG[aJ][1]-aG[aL][0]};};}function aj(aJ){var aH=this;var aI;var aK;var aF;var aE;aH.start=function(aL,aM,aN){aK=aL;aF=aE=null;aJ.build();aG(aM);aI=aN||"mousemove";an(document).bind(aI,aG);};function aG(aL){var aM=aJ.cell(aL.pageX,aL.pageY);if(!aM!=!aE||aM&&(aM.row!=aE.row||aM.col!=aE.col)){if(aM){if(!aF){aF=aM;}aK(aM,aF,aM.row-aF.row,aM.col-aF.col);}else{aK(aM,aF);}aE=aM;}}aH.stop=function(){an(document).unbind(aI,aG);return aE;};}function j(aF){var aE=this,aG={},aJ={},aI={};function aH(aK){return aG[aK]=aG[aK]||aF(aK);}aE.left=function(aK){return aJ[aK]=aJ[aK]===t?aH(aK).position().left:aJ[aK];};aE.right=function(aK){return aI[aK]=aI[aK]===t?aE.left(aK)+aH(aK).width():aI[aK];};aE.clear=function(){aG={};aJ={};aI={};};}})(jQuery);